!function(e){"use strict";var i={keysTriggered:{Tab:!1,Enter:!1,ShiftLeft:!1,ShiftRight:!1,ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1},utils:{isSimpleHamburgerStack:!(e("body").hasClass("header-simple")&&!e("body").hasClass("mobile-side-slide")),switchExpanded:(i,s)=>e(i).attr("aria-expanded",s)},menuLinks:e("#menu .menu-item a").not(".menu-toggle").toArray(),subheaderLinks:e("#Subheader a").toArray(),wooPopup:e(".mfn-header-login").find("a, input").toArray(),contentLinks:[...e("#Content a").toArray(),...e("#Footer a").toArray()],clickListener(){jQuery(document).on("keydown",'a, *[role="link"], button',(e=>{let{originalEvent:i}=e,{code:s}=i;s in this.keysTriggered&&(this.keysTriggered[s]=!0),setTimeout((i=>this.recognizeGesture(e)),1)})),jQuery(document).on("keyup",'a, *[role="link"], button',(e=>{let{originalEvent:i}=e,{code:s}=i;s in this.keysTriggered&&(this.keysTriggered[s]=!1),setTimeout((i=>this.recognizeGesture(e)),1)})),jQuery("#skip-links-menu").one("focus","a",(function(){e("#skip-links-menu").css("top","0px")}))},skipLinks(){e(":focus").closest("nav").is("#skip-links-menu")?e("#skip-links-menu").css("top","0px"):e("#skip-links-menu").css("top","-200px")},recognizeGesture(i){let{Tab:s,ShiftLeft:t,ShiftRight:a,ArrowDown:n,ArrowUp:r,ArrowLeft:o,ArrowRight:l,Enter:d}=this.keysTriggered;const c=e(":focus");let u=e("*[aria-expanded=true]:not(#menu):not(.sub-menu)");const g=e("nav#menu").find("*[aria-expanded=true]"),h=e("body").hasClass("side-slide-is-open")?".extras-wrapper ":".top_bar_right ",f=()=>{let i=!1;return e("body").hasClass("rtl")&&(i=!0),e("body").hasClass("header-rtl")&&(i=!0),i};if(e(u).length&&!c.closest(u).length){const i=Object.values(u).filter((i=>i.classList&&"Side_slide"!==e(i).attr("id")));switch(u=i.length?e(i[0]):u,"Side_slide"!==u.attr("id")&&"true"==u.attr("aria-expanded")&&(e(u).siblings(".mfn-close-icon").length?e(u).siblings(".mfn-close-icon").trigger("click"):e(u).find(".mfn-close-icon").trigger("click")),this.utils.switchExpanded(u,!1),!0){case u.hasClass("woocommerce-MyAccount-navigation"):e(`${h} #myaccount_button`).trigger("focus");break;case u.hasClass("mfn-cart-holder"):e(`${h} #header_cart`).trigger("focus");break;case"Side_slide"===u.attr("id"):u.find(".close").trigger("click"),e(".responsive-menu-toggle").trigger("focus")}}if(e(g).length&&this.utils.isSimpleHamburgerStack&&(c.closest(g).length||g.siblings().is(c)||e(g).attr("aria-expanded","false").slideUp()),e(".sub-menu[aria-expanded=true]").each(((i,s)=>{"none"==e(s).css("display")&&this.utils.switchExpanded(s,!1)})),d)switch(!0){case c.hasClass("menu-toggle")&&e("body").hasClass("side-slide-is-open"):const i=c.siblings(".sub-menu");"block"==i.css("display")&&i.find("a").first().trigger("focus");break;case c.hasClass("menu-toggle")&&!e("body").hasClass("side-slide-is-open"):const s=c.siblings(".sub-menu");if(!this.utils.isSimpleHamburgerStack){if("true"==s.attr("aria-expanded"))this.utils.switchExpanded(s,!1);else{this.utils.switchExpanded(s,!0);let e=s.find("a").first();setTimeout((i=>e.trigger("focus")),100)}break}if("none"!=s.css("display")){this.utils.switchExpanded(s,!1),s.slideUp(0);const e=s.find("*[aria-expanded=true]");e.length&&(this.utils.switchExpanded(e,!1),e.slideUp())}else{this.utils.switchExpanded(s,!0);let e=s.slideDown(0).find("a").first();setTimeout((i=>e.trigger("focus")),100)}break;case c.hasClass("toggle-login-modal"):e(".woocommerce-MyAccount-navigation").find("a").first().trigger("focus"),e(".woocommerce-MyAccount-navigation").attr("aria-expanded","true");break;case"link"===c.attr("role"):c.find(".image_links").length?window.location=c.find("a").attr("href"):c.find(".title").length?c.find(".title").trigger("click"):c.closest(".mfn-woo-list").length&&c.trigger("click");break;case"wpml"===c.attr("data-title"):const t=c.siblings(".wpml-lang-dropdown");console.log(t),"false"==t.attr("aria-expanded")?(t.attr("aria-expanded","true"),t.find("a").first().trigger("focus")):t.attr("aria-expanded","false");break;case c.hasClass("single_add_to_cart_button"):e(".mfn-cart-holder").find("a").first().trigger("focus");break;case c.hasClass("responsive-menu-toggle"):e("body").hasClass("mobile-side-slide")&&(this.menuLinks=[...e("#Side_slide").find("a.close").toArray(),...e(".extras-wrapper").find("a").toArray(),...this.menuLinks,...e("#Side_slide .social").find("a").toArray()],e(this.menuLinks[0]).trigger("focus"),c.trigger("click"),this.utils.switchExpanded(e("#Side_slide"),!0));break;case c.hasClass("overlay-menu-toggle"):"false"==e("#overlay-menu ul").attr("aria-expanded")||void 0===e("#overlay-menu ul").attr("aria-expanded")?(this.utils.switchExpanded(e("#overlay-menu ul"),!0),e("#overlay-menu").find(".menu-item a").first().trigger("focus")):(this.utils.switchExpanded(e("#overlay-menu ul"),!1),c.hasClass("close")&&e(".overlay-menu-toggle").trigger("focus"))}else if(s&&(t||a))e("a.ui-tabs-anchor").attr("tabindex",0),this.skipLinks();else if(s)switch(e("a.ui-tabs-anchor").attr("tabindex",0),this.skipLinks(),!0){case c.closest("li").hasClass("wc-block-product-categories-list-item"):c.closest(".li-expanded").length||(c.siblings(".cat-expander").trigger("click"),c.siblings("ul").find("a").first().trigger("focus")),c.closest("li").siblings(".li-expanded").each(((i,s)=>e(s).find(".cat-expander").trigger("click")));break;case c.is(".overlay-menu-toggle",".focus")&&"block"===e("#Overlay").css("display"):e(".overlay-menu-toggle").trigger("focus");break;case c.is(e(this.contentLinks[this.contentLinks.length-1]))&&!e("body").hasClass("footer-menu-sticky"):e(".fixed-nav").length?e(".fixed-nav").first().trigger("focus"):e("body a").first().trigger("focus")}else if(f()?o:l){if(c.closest("li").find(".menu-toggle").length){const e=c.siblings(".sub-menu");if("none"==e.css("display")){this.utils.switchExpanded(e,!0);let i=e.slideDown(0).find("a").first();setTimeout((e=>i.trigger("focus")),100)}}}else if((f()?l:o)&&c.closest("ul[aria-expanded=true]").length){const e=c.closest(".sub-menu").find("*[aria-expanded=true]");e.length&&(this.utils.switchExpanded(e,!1),e.slideUp())}},init(){e("body").hasClass("keyboard-support")&&(this.clickListener(),e(".sub-menu").attr("aria-expanded","false"),e(".menu-toggle, .menu-item a").attr("tabindex","0"),e("#Content").attr("role","main"),e("#Header_wrapper").attr("role","banner").attr("aria-label","Header container"),e(".woocommerce-MyAccount-navigation").attr("role","navigation").attr("aria-expanded","false"),e("body").is(".header-creative, .header-simple, .header-overlay")||e("#menu").removeAttr("aria-expanded"))}},s={onLinkAlert(){e("a").click((function(i){const s=e(i.currentTarget);"_blank"!==s.attr("target")&&"0"!==s.attr("target")||(confirm("The link will open in a new tab. Do you want to continue? ")||i.preventDefault())}))},init(){e("body").hasClass("warning-links")&&this.onLinkAlert()}};e(window).on("load",(function(){i.init(),s.init()}))}(jQuery);